(this["webpackJsonpklaar-frontend"]=this["webpackJsonpklaar-frontend"]||[]).push([[0],{18:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(10),r=n.n(a),i=(n(18),n(13)),s=n(6),o=n.n(s),j=n(11),l=n(2),u=n(12),b=n.n(u);function h(e,t){var n=null;return e.forEach((function(e,c){JSON.stringify(e)===JSON.stringify(t)&&(n=c)})),n}var d=n(0);var O=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(l.a)(r,2),u=s[0],O=s[1],f=Object(c.useState)(!0),x=Object(l.a)(f,2),p=x[0],v=x[1],g=Object(c.useState)("Mumbai"),m=Object(l.a)(g,2),k=m[0],S=m[1],y=Object(c.useState)(""),C=Object(l.a)(y,2),I=C[0],w=C[1],B=Object(c.useState)(1),N=Object(l.a)(B,2),D=N[0],J=N[1],E=Object(c.useState)(10),A=Object(l.a)(E,2),L=A[0],M=A[1],F=Object(c.useState)([]),P=Object(l.a)(F,2),z=P[0],K=P[1];return Object(c.useEffect)((function(){Object(j.a)(o.a.mark((function e(){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("bankData")){e.next=7;break}t=JSON.parse(localStorage.getItem("bankData")),a(t),O(t),K(t.slice(0,L)),e.next=18;break;case 7:return e.next=9,fetch("https://vast-shore-74260.herokuapp.com/banks?city=MUMBAI");case 9:return n=e.sent,e.next=12,n.json();case 12:(c=e.sent).forEach((function(e){return e.favourite=!1})),localStorage.setItem("bankData",JSON.stringify(c)),a(c),O(c),K(c.slice(0,L));case 18:v(!1);case 19:case"end":return e.stop()}}),e)})))()}),[]),Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("main",{children:[Object(d.jsx)("h1",{style:{textAlign:"center",fontSize:"4rem",margin:"3rem 0"},children:"Bank Branches"}),Object(d.jsxs)("div",{id:"search-options",children:[Object(d.jsxs)("select",{name:"city",id:"dropdown",value:k,onChange:function(e){return function(e){var t=e.target.value,c=n.filter((function(e){return e.city.toLowerCase()===t}));O(c),K(c.slice(0,L)),S(t)}(e)},children:[Object(d.jsx)("option",{value:"mumbai",children:"Mumbai"}),Object(d.jsx)("option",{value:"delhi",children:"Delhi"}),Object(d.jsx)("option",{value:"bangalore",children:"Banglore"}),Object(d.jsx)("option",{value:"chennai",children:"Chennai"}),Object(d.jsx)("option",{value:"kolkata",children:"Kolkata"})]}),Object(d.jsx)("input",{id:"search-bar",type:"text",placeholder:"Search",value:I,onChange:function(e){return function(e){var t=e.target.value;w(t);var c=n.filter((function(e){var n=!1;return Object.keys(e).forEach((function(c){e[c].toString().toLowerCase().includes(t.toLowerCase())&&(n=!0)})),n}));O(c),K(c.slice(0,L))}(e)}}),Object(d.jsx)("input",{id:"items-per-page",type:"number",min:"1",placeholder:"Items per page",value:L,onChange:function(e){return function(e){var t=e.target.value;t&&(M(parseInt(t)),K(u.slice(0,parseInt(t))))}(e)}}),Object(d.jsxs)("div",{id:"show-favourites",children:[Object(d.jsx)("input",{type:"checkbox",onChange:function(e){return function(e){if(e.target.checked){var t=u.filter((function(e){return e.favourite}));O(t),K(t.slice(0,L))}else O(n),K(n.slice(0,L))}(e)}}),Object(d.jsx)("label",{children:"View Favourites"})]})]}),p?Object(d.jsx)("h2",{children:"Loading..."}):Object(d.jsx)("div",{id:"table-container",children:Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"IFSC"}),Object(d.jsx)("th",{children:"Bank Id"}),Object(d.jsx)("th",{children:"Branch"}),Object(d.jsx)("th",{children:"Address"}),Object(d.jsx)("th",{children:"City"}),Object(d.jsx)("th",{children:"District"}),Object(d.jsx)("th",{children:"State"}),Object(d.jsx)("th",{children:"Bank Name"}),Object(d.jsx)("th",{children:"Favourite"})]})}),Object(d.jsx)("tbody",{children:z.map((function(e,t){return Object(d.jsx)("tr",{children:Object.keys(e).map((function(t,c){return"favourite"===t?Object(d.jsx)("td",{children:Object(d.jsx)("input",{className:"favourite-checkbox",type:"checkbox",style:{cursor:"pointer"},checked:u[h(u,e)][t],onChange:function(t){return function(e,t){var c=t.target.checked,r=Object(i.a)(n);r[e].favourite=c,localStorage.setItem("bankData",JSON.stringify(r)),a(r),O(r),K(r.slice(D*L-L,D*L))}(h(u,e),t)}})},c):Object(d.jsx)("td",{children:e[t]},c)}))},t)}))})]})}),Object(d.jsx)("div",{id:"pagination-container",children:Object(d.jsx)(b.a,{activePage:D,itemsCountPerPage:L,totalItemsCount:u.length,onChange:function(e){J(e),K(u.slice(e*L-L,e*L))},pageRangeDisplayed:8})})]})})};r.a.render(Object(d.jsx)(O,{}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.9a2160d9.chunk.js.map